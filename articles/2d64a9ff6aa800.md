---
title: "Yelp GraphQLÂ è¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³"
emoji: "ğŸ’¬"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["GraphQL"]
published: false
---
ã“ã‚Œã¯å…ƒè¨˜äº‹([GraphQL@Yelp Schema Design Guidelinesã®GraphQL Styleguide](https://yelp.github.io/graphql-guidelines/schema-design.html))ã‚’è‘—è€…ã®ä¸€äºº Mark Larahã•ã‚“ã‹ã‚‰è¨±å¯ã‚’ã„ãŸã ãæ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚
https://yelp.github.io/graphql-guidelines/schema-design.html

# ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ

GraphQLã‚¹ã‚­ãƒ¼ãƒã¯ã€Yelpã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°å…¨ä½“ã«å¯¾ã—ã¦ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã™ã€‚æœ€çµ‚çš„ã«ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ“ã‚¸ãƒã‚¹ãƒ‡ãƒ¼ã‚¿å…¨ä½“ã‚’GraphQLã§ãƒ¢ãƒ‡ãƒ«åŒ–å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã“ã®ãƒšãƒ¼ã‚¸ã«ã¯ã€ã‚¯ãƒªãƒ¼ãƒ³ã§ä½¿ã„ã‚„ã™ãã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªã‚¹ã‚­ãƒ¼ãƒã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã€ã©ã®ã‚ˆã†ã«è€ƒã‚‹ã‹ã«ã¤ã„ã¦ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

å…ˆã«é€²ã‚€å‰ã«ã€ã‚¹ã‚­ãƒ¼ãƒãŒã©ã®ã‚ˆã†ã«æ©Ÿèƒ½ã™ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã€ãã®ãƒ†ãƒ¼ãƒã«é–¢ã™ã‚‹å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ã–ã£ã¨èª­ã‚€ã“ã¨ã‚’å¼·ããŠå‹§ã‚ã—ã¾ã™ã€‚

:::message
ãªãœç§ãŸã¡ã¯ã“ã‚Œã‚’æ°—ã«ã™ã‚‹ã®ã§ã™ã‹ï¼Ÿ

ã‚¹ã‚­ãƒ¼ãƒï¼ˆä»Šã®ã¨ã“ã‚ï¼‰ã¯ ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ä¸é©åˆ‡ãªã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã—ã¦é‡å¤§ãªå¤‰æ›´ã‚’åŠ ãˆã‚‹ã“ã¨ã¯ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã€å›é¿ã™ã‚‹ã®ãŒæœ€å–„ã§ã™ã€‚ã“ã®ã‚¬ã‚¤ãƒ‰ã«å¾“ã†ã¨ã€ã‚¹ã‚­ãƒ¼ãƒã‚’è‰¯å¥½ãªçŠ¶æ…‹ã«ä¿ã¤ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚
:::

## Contents
* [å‹ã®ç¨®é¡](#å‹ã®ç¨®é¡)
* [ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¨ãƒªã‚’æœ€å°ã«ä¿ã¤](#ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¨ãƒªã‚’æœ€å°ã«ä¿ã¤)
* [å‹ã®å‘½åã¯å…·ä½“çš„ã«ã™ã‚‹](#å‹ã®å‘½åã¯å…·ä½“çš„ã«ã™ã‚‹)
* [ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åå‰ç©ºé–“ã‚’ã¤ã‘ãªã„](#ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åå‰ç©ºé–“ã‚’ã¤ã‘ãªã„)
* [Viewã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã‚’èª¬æ˜ã™ã‚‹](#Viewã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã‚’èª¬æ˜ã™ã‚‹)
* [IDã§ã¯ãªãå‹ã‚’ä»‹ã—ã¦ãƒªãƒ³ã‚¯ã™ã‚‹](#IDã§ã¯ãªãå‹ã‚’ä»‹ã—ã¦ãƒªãƒ³ã‚¯ã™ã‚‹)
* [æ—¢å­˜ã®æ¨™æº–åŒ–ã•ã‚ŒãŸå‹ã¨ã‚¹ã‚«ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹](#æ—¢å­˜ã®æ¨™æº–åŒ–ã•ã‚ŒãŸå‹ã¨ã‚¹ã‚«ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹)
* [é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹](#é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹)
* [èª¬æ˜ã«ã¯ä¸‰é‡å¼•ç”¨ç¬¦(""")ã‚’ä½¿ç”¨ã™ã‚‹](#èª¬æ˜ã«ã¯ä¸‰é‡å¼•ç”¨ç¬¦(""")ã‚’ä½¿ç”¨ã™ã‚‹)
* [ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜ã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç©ºã‘ã‚‹](#ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜ã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç©ºã‘ã‚‹)
* [ã‚³ãƒ¡ãƒ³ãƒˆã¨èª¬æ˜ã§è¶…æ˜ç¢ºã«ã™ã‚‹](#ã‚³ãƒ¡ãƒ³ãƒˆã¨èª¬æ˜ã§è¶…æ˜ç¢ºã«ã™ã‚‹)
* [ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã»ã¨ã‚“ã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«nullè¨±å®¹å‹ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€å¤šãã®ä¾‹å¤–ãŒã‚ã‚Šã¾ã™](#ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã»ã¨ã‚“ã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«nullè¨±å®¹å‹ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€å¤šãã®ä¾‹å¤–ãŒã‚ã‚Šã¾ã™)

## å‹ã®ç¨®é¡

ä¸€èˆ¬çš„ã«ã€Yelpã«ã¯2ã¤ã®å‹ã®ç¨®é¡ãŒã‚ã‚Šã¾ã™ğŸ˜ƒè¿½åŠ ã™ã‚‹å‹ã®ç¨®é¡ã‚’æ¤œè¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™:

1. ã‚³ã‚¢å‹
`Business`, `User` ç­‰ã¯ã€Yelpã«ãŠã„ã¦å¤šãã®ãƒšãƒ¼ã‚¸ã‚„ãƒãƒ¼ãƒ ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å…±é€šã—ã¦ã„ã‚‹å‹ã§ã™ 
2. ãƒ‰ãƒ¡ã‚¤ãƒ³å›ºæœ‰ã®å‹
ã“ã‚Œã‚‰ã¯ã€1ã¤ã¾ãŸã¯å°‘æ•°ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚„ãƒãƒ¼ãƒ ã§ã®ã¿ä½¿ç”¨ã•ã‚Œã‚‹å‹ã§ã™ã€‚ä¾‹ãˆã°`BusinessClaimability`ã‚„`EventsPageLeftRailAttendWidget`ã§ã™ã€‚

å‹ã«ã¤ã„ã¦ã“ã®ã‚ˆã†ã«è€ƒãˆã‚‹ã“ã¨ã¯ã€ç§ãŸã¡ãŒã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã‚Šã€ã‚ªãƒ¼ãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’ç¢ºç«‹ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚ãŸã¨ãˆã°ã€ã“ã‚Œã¯ç§ãŸã¡ãŒä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ã‚’æ±ºå®šã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™:
* ã‚¹ã‚­ãƒ¼ãƒå¤‰æ›´ã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã©ã®ç¨‹åº¦ç²¾æŸ»ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹
* ãƒªã‚¾ãƒ«ãƒãŒå¸¸ã«å¤±æ•—ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã—ã¾ã£ãŸå ´åˆã®å½±éŸ¿ã¯ä½•ã§ã™ã‹

ã‚³ã‚¢å‹ã¯æœ€ã‚‚åºƒãä½¿ç”¨ã•ã‚Œã¦ãŠã‚Šã€å¤šãã®ã‚¯ã‚¨ãƒªã®ãƒ«ãƒ¼ãƒˆã«ã‚ãŸã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€é€šå¸¸ã¯ã‚¹ã‚­ãƒ¼ãƒã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã‚’æº€ãŸã™ãŸã‚ã®åŸºæº–ãŒé«˜ãã€å®Ÿè¡Œæ™‚ã®å•é¡Œã¯æ—©æ€¥ã«ãƒˆãƒªã‚¢ãƒ¼ã‚¸ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

## ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¨ãƒªã‚’æœ€å°ã«ä¿ã¤

å¯èƒ½ãªé™ã‚Šãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰ã¨ã—ã¦ã‚³ã‚¢å‹ã‚’ä½¿ç”¨ã—ã¦Yelpã®ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ„ãƒªãƒ¼ã¨ã—ã¦ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ–°ã—ã„ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¨ãƒªã‚’è¿½åŠ ã™ã‚‹å‰ã«ã€ä»£ã‚ã‚Šã®æ—¢å­˜ã®ã‚¿ã‚¤ãƒ—ã®å±æ€§ã¨ã—ã¦è¿½åŠ ã™ã‚‹ã»ã†ãŒç†ã«ã‹ãªã£ã¦ã„ã‚‹ã‹ã©ã†ã‹æ¤œè¨ã—ã¦ãã ã•ã„ã€‚

**Why?**

ãã†ã™ã‚‹ã“ã¨ã§ã‚¹ã‚­ãƒ¼ãƒãŒãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§èª­ã¿ã‚„ã™ããªã‚Šã€ãƒ‡ãƒ¼ã‚¿ã®æ§‹æˆæ–¹æ³•ã®ä¸€è²«æ€§ã‚’ä¿ã¤ã“ã¨ãŒå‡ºæ¥ã¾ã™

**Example**

`root`ã®ä¸‹ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¨ãƒªã¨ã—ã¦`canClaimBusiness`ã‚’è¿½åŠ ã™ã‚‹ä»£ã‚ã‚Šã«ã€ã“ã‚Œã‚’æ—¢å­˜ã®`Businness`å‹ã®å±æ€§(`claimability`)ã¨ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚

## å‹ã®å‘½åã¯å…·ä½“çš„ã«ã™ã‚‹

å‹ã®åå‰ã‚’å…·ä½“çš„ã«æŒ‡å®šã—ã¦ãã ã•ã„ã€‚ï¼ˆå¦¥å½“ãªç¯„å›²ã§ï¼‰å¯èƒ½ãªé™ã‚Šåå‰ç©ºé–“ã«ï¼

**Why?**

ã©ã®å‹ãŒä»–ã®å‹ã«é–¢é€£ã—ã¦ã„ã‚‹ã‹ã‚’æ˜ç¢ºã«ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã€åå‰ã®è¡çªã‚’æ¸›ã‚‰ã—ã¾ã™ã€‚ï¼ˆãŸã¨ãˆã° `Price` ã¯ãƒ“ã‚·ãƒã‚¹ã®ä¾¡æ ¼å¸¯ã§ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚Yelpã‚¤ãƒ™ãƒ³ãƒˆã®ãƒã‚±ãƒƒãƒˆä¾¡æ ¼ã§ã™ã‹ï¼Ÿãã‚Œã¨ã‚‚ä»–ã®ä½•ã‹ï¼Ÿï¼‰

**Example**

`Category`ã®ä»£ã‚ã‚Šã«`BusinessCategory`ã‚’å„ªå…ˆã™ã‚‹

## ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«åå‰ç©ºé–“ã‚’ã¤ã‘ãªã„

ä¸Šè¨˜ã®è£œè¶³ã¨ã—ã¦ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯éåº¦ã«å…·ä½“çš„/åå‰ç©ºé–“çš„ã§ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**Why?**

ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤å‹ã«ã‚ˆã£ã¦æ—¢ã«æš—é»™çš„ã«åå‰ç©ºé–“ãŒã¤ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã¤ã¾ã‚Šã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§è¦ªã®å‹ãŒä½•ã‹ã‚’å¸¸ã«çŸ¥ã£ã¦ã„ã¾ã™ã€‚ï¼ˆå¯¾è±¡çš„ã«ã€å‹ã¯ã©ã“ã‹ã‚‰ã§ã‚‚è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ã©ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãã‚Œã‚’è¿”ã™ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚ï¼‰

**Example**

* ã“ã¡ã‚‰ã‚ˆã‚Š
```GraphQL
type BusinessAddress {
    """
    Formatted stringy version of address based on locale
    It reflects a new line using a new line character
    Example: 196 N Pleasant St\nAmherst, MA 01002
    """
    formattedBusinessAddress: String
}
```

* ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
type BusinessAddress {
    """
    Formatted stringy version of address based on locale
    It reflects a new line using a new line character
    Example: 196 N Pleasant St\nAmherst, MA 01002
    """
    formatted: String
}
```

ã“ã‚Œã®ä¾‹å¤–ã¯ã€ãƒ«ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆQuery, Mutation, Subscriptionï¼‰ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å ´åˆã§ã™ã€‚ã“ã®ã‚ˆã†ãªã€Œãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ã§ã‚ã‚Šã€ãŠãã‚‰ãåå‰ç©ºé–“ãŒå¿…è¦ã§ã™ã€‚

## Viewã§ã¯ãªããƒ‡ãƒ¼ã‚¿ã‚’èª¬æ˜ã™ã‚‹

**Why?**

> APIãŒæœ€åˆã«ä½œã‚‰ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¦æ±‚ã¨ã‚ã¾ã‚Šå¯†æ¥ã«ãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚iOSã‚¢ãƒ—ãƒªç”¨ã®APIã‚’æ§‹ç¯‰ã—ã¦ã„ã‚‹å ´åˆã¯ã€å¾Œã§ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—PCã‚„ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ã‚©ãƒ³ç­‰ã®ä»–ã®ãƒ‡ãƒã‚¤ã‚¹ã«ç§»æ¤ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚¯ã‚¨ãƒªã‚’ä½œæˆã™ã‚‹æ™‚ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è¡¨ç¾æ–¹æ³•ã§ã¯ãªãã€å…ƒã«ãªã‚‹ãƒ‡ãƒ¼ã‚¿ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚
> https://www.graphql.com/articles/4-years-of-graphql-lee-byron

**Example**

* Yelpã®ç”¨èªã§è¨€ãˆã°ã€Profileã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™ãŸã‚ã«UserProfileCardå‹ã‚’è¿½åŠ ã—ãªã„ã§ãã ã•ã„ã€‚
* ä»£ã‚ã‚Šã«æ—¢å­˜ã®`User`å‹ã‚’ä½¿ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã—ã€Profile cardã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

## IDã§ã¯ãªãå‹ã‚’ä»‹ã—ã¦ãƒªãƒ³ã‚¯ã™ã‚‹

ã‚ã‚‹å‹ã‚’åˆ¥ã®å‹ã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯ã€ãã®å‹ã«ç›´æ¥ãƒªãƒ³ã‚¯ã—ã¦ãã ã•ã„ã€‚

**Why?**

ã“ã‚Œã«ã‚ˆã‚Šã€é–‹ç™ºè€…ã¯ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã™ã‚‹éš›ã®æŸ”è»Ÿæ€§ãŒé«˜ã¾ã‚Šã¾ã™ã€‚ãƒªãƒ³ã‚¯ã—ã¦ã„ã‚‹å‹ã®IDã®ã¿ã‚’æŒ‡å®šã™ã‚‹å ´åˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã¯ãã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«é–¢ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ•ã‚§ãƒƒãƒã™ã‚‹ãŸã‚ã«è¿½åŠ ã§ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚

**Example**
ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
type Review {
    """
    ID of the business that this review is about
    """
    businessId: Int
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
type Review {
    """
    The business that this review is about
    """
    business: Business
}
```

## æ—¢å­˜ã®æ¨™æº–åŒ–ã•ã‚ŒãŸå‹ã¨ã‚¹ã‚«ãƒ©ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹

ä»¥ä¸‹ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã®æ—¢å­˜ã®æ¨™æº–åŒ–ã•ã‚ŒãŸå‹ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
* å†™çœŸ
* æ—¥ä»˜/æ™‚é–“

ãã®ã‚ˆã†ãªæƒ…å ±ã‚’è¡¨ã™ã¨ãã¯ãã‚Œã‚‰ã®æ—¢å­˜ã®æ¨™æº–åŒ–ã•ã‚ŒãŸå‹ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

**Why?**

ã“ã‚Œã‚‰ã®å‹ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¹ã‚­ãƒ¼ãƒå…¨ä½“ã§å…±é€šã®ãƒ‡ãƒ¼ã‚¿å‹ã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã—ã¦ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’æ¨™æº–åŒ–ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä½œæ¥­ã¨æ¦‚å¿µã®é‡è¤‡ã‚’å›é¿ã§ãã¾ã™ã€‚

**Example**

* ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
type Review {
    """
    A photo that the user uploaded with this review
    """
    uploadedPhotoUrl: String

    """
    When was this review posted?
    """
    createdAt: String
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
type Review {
    """
    A photo that the user uploaded with this review
    """
    uploadedPhoto: BusinessPhoto

    """
    When was this review posted?
    """
    createdAt: DateTime
}
```

## é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹

é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ–°ã—ã„å‹ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—éãã‚‹ã¨å¤±æ•—ã—ã¾ã™ã€‚ã‚¹ã‚­ãƒ¼ãƒã«ãƒã‚¹ãƒˆã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã‚’æã‚Œãªã„ã§ãã ã•ã„ã€‚

**Why?**

Business ã‚„ User ãªã©ã®ã‚³ã‚¢ã‚¿ã‚¤ãƒ—ãŒè‚¥å¤§åŒ–ã™ã‚‹ã“ã¨ã‚’æ¸›ã‚‰ã—ãŸã„ã€‚ã‚³ã‚¢ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ•°ã‚’æœ€å°é™ã«æŠ‘ãˆã¦ã€æ—¢å­˜ã®é–¢é€£ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å…±é€šã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã®ä¸‹ã«ã‚µãƒ–ã‚°ãƒ«ãƒ¼ãƒ—ä¸‹ã™ã‚‹ã“ã¨ã§ç™ºè¦‹ã—ã‚„ã™ãã™ã‚‹äº‹ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ï¼ˆGraphiQLã®æ•°ç™¾ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‚’ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‚’æƒ³åƒã—ã¦ã¿ã¦ãã ã•ã„ï¼ï¼‰ 

æ¬¡ã«ã€ç™ºè¦‹ã®ã—ã‚„ã™ã•ã¯èª¤ã£ã¦ä»–ã®å ´æ‰€ã«é‡è¤‡ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ ã™ã‚‹äº‹ã‚’å›é¿ã™ã‚‹ã“ã¨ã«å½¹ç«‹ã¡ã¾ã™ã€‚

æ–°ã—ã„å‹ã‹ã‚‰åˆã‚ã¦ã€ãã‚Œã‚’ã¾ã ã‚µãƒ–ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹ã©ã†ã‹åˆ†ã‹ã‚‰ãªã„å ´åˆã¯ã€[Rule of three](https://en.wikipedia.org/wiki/Rule_of_three_(computer_programming))ã‚’æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚æœ€åˆã«å‹ã«ç›´æ¥è¿½åŠ ã—ã¦ã‚‚ã„ã„ã—ã€å°†æ¥ä»–ã®é–¢é€£ã™ã‚‹ã‚¿ã‚¤ãƒ—ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆã¯ã€ãã‚Œã‚’éæ¨å¥¨ã«ã—ã¦ã€ã“ã®æ–°ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ç§»è¡Œã—ã¦ãã ã•ã„ã€‚

**Example**

ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
extend type Business {
    """
    Is this business an advertiser with us?
    """
    isAdvertiser: Boolean

    """
    How many times have users clicked this business's advertisement
    """
    adClicks: Number

    """
    Amount of estimated revenue the business has earned from a campaign
    """
    revenueFromCampaign: Number

    """
    Search keywords that we should ads for this business on
    """
    adKeywords: [String]
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
type BusinessAdvertising {
    """
    Is this business an advertiser with us?
    """
    isAdvertiser: Boolean

    """
    How many times have users clicked this business's advertisement
    """
    clicks: Number

    """
    Amount of estimated revenue the business has earned from a campaign
    """
    revenueFromCampaign: Number

    """
    Search keywords that we should ads for this business on
    """
    keywords: [String]
    }

    extend type Business {
    """
    Information related to our Business Advertising product
    """
    advertising: BusinessAdvertising
}
```
å‹ãŒã•ã‚‰ã«å¤§ãããªã‚‹ã¨ã€ã“ã‚Œã¯æ™‚é–“ã¨ã¨ã‚‚ã«æ›´ã«ç´°ã‹ãåˆ†å‰²ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼ˆãã—ã¦ãã†ã™ã‚‹ã¹ãã§ã™ï¼ï¼‰

**å…ˆè¡ŒæŠ€è¡“**
* [Group closely-related fields together into subobjects](https://github.com/Shopify/graphql-design-tutorial/blob/master/TUTORIAL.md#rules-and-subobjects)
* [GraphQL Schema Design: Building Evolvable Schemas](https://www.apollographql.com/blog/backend/schema-design/graphql-building-evolvable-schemas/)

## èª¬æ˜ã«ã¯ä¸‰é‡å¼•ç”¨ç¬¦(""")ã‚’ä½¿ç”¨ã™ã‚‹

ãƒ•ã‚£ãƒ¼ãƒ«ã¨ã«èª¬æ˜ã‚’è¿½åŠ ã™ã‚‹ã¨ãã¯ã€ä¸‰é‡å¼•ç”¨ç¬¦(`"""`)ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚ `#`ã‚’ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚

**Why?**

* GraphQLã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€å¼•ç”¨ç¬¦ï¼ˆ`"""like this"""`ï¼‰ã¨ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ï¼ˆ`# like this`ï¼‰ã®2ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€[æ§‹æ–‡çš„ã«ã¯ç•°ãªã‚Šã¾ã™](https://github.com/graphql/graphql-spec/issues/420#issuecomment-371279317)ã€‚
* `"""this is a description"""`ã¯èª¬æ˜ã§ã‚ã‚Šã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨å‹ã‚’æ–‡ç« åŒ–ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* `# this is a comment`ã¯Parserã«ã‚ˆã£ã¦ã¯ç„¡è¦–ã•ã‚Œã‚‹ãŸã‚ã€ã‚¹ã‚­ãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ä½¿ç”¨ã—ãªã„ã§ãã ã•ã„ã€‚

**Example**

ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
extend type Business {
    # The name of the business (e.g. "The French Laundry")
    name: String

    "The rating of the business"
    rating: Float
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
extend type Business {
    """
    The name of the business (e.g. "The French Laundry")
    """
    name: String

    """
    The rating of the business
    """
    rating: Float
}
```

## ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®èª¬æ˜ã¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç©ºã‘ã‚‹

è¤‡æ•°ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨èª¬æ˜ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯ã€ã‚¹ãƒšãƒ¼ã‚¹ã‚’é–‹ã‘ã¦ãã ã•ã„ï¼ï¼ˆã¤ã¾ã‚Šã€ç¯€ã”ã¨ã®æ”¹è¡Œï¼‰

**Why?**

èª­ã¿ã‚„ã™ã„ã‹ã‚‰ï¼

**Example**

ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
type YelpProsEntryPointBanner {
    "Yelp Pros logo image url"
    logoUrl: String
    "Part of the heading for the banner - starting part"
    headingStart: String
    "Part of the heading for the banner - ending part"
    headingEnd: String
    "Sub heading of the banner"
    subHeading: String
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
type YelpProsEntryPointBanner @owners(teams: "services-marketplace") {
    """
    Yelp Pros logo image url
    """
    logoUrl: String

    """
    Part of the heading for the banner - starting part
    """
    headingStart: String

    """
    Part of the heading for the banner - ending part
    """
    headingEnd: String

    """
    Sub heading of the banner
    """
    subHeading: String
}
```

## ã‚³ãƒ¡ãƒ³ãƒˆã¨èª¬æ˜ã§è¶…æ˜ç¢ºã«ã™ã‚‹

è¿½åŠ ã™ã‚‹å‹ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãªã©ã«ã¤ã„ã¦ã€ã§ãã‚‹ã ã‘å¤šãã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æä¾›ã—ã¾ã™ã€‚è©²å½“ã™ã‚‹ç®‡æ‰€ã®[è¨­è¨ˆæ€æƒ³ã‹ã‚‰](https://fs.blog/first-principles/ )èª¬æ˜ã—ã¾ã—ã‚‡ã†ã€‚

è€ƒãˆã‚‹ã¹ãã„ãã¤ã‹ã®ä¾‹:

* è¿½åŠ ã•ã‚Œã‚‹ã‚‚ã®ã®æ˜ç¢ºãªèª¬æ˜
* ãƒãƒ¼ãƒ å›ºæœ‰ã®é ­æ–‡å­—ã‚’é¿ã‘ã‚‹
* æ§˜ã€…ãªé¸æŠè‚¢ãŒãªã«ã‚’è¡¨ã™ã®ã‹åˆ†ã‹ã‚‹ã‚ˆã†ã«ã€å…¨ã¦ã®Enumå€¤ã«ã¤ã„ã¦èª¬æ˜ã™ã‚‹
* ãƒ‡ãƒ¼ã‚¿ã‚„æ¦‚å¿µã‚’å®šç¾©ã¾ãŸã¯æ–‡ç« åŒ–ã™ã‚‹ã‚ˆã‚Šæ­£ç¢ºãªã‚½ãƒ¼ã‚¹ã¸ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯

æ–°å…¥ç¤¾å“¡ãŒschemaã‚’èª­ã‚“ã§ã„ã‚‹ã¨ã—ã¦ã€å½¼ã‚‰ãŒæŒã£ã¦ã„ã‚‹å”¯ä¸€ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯ã‚ãªãŸãŒæ›¸ã„ãŸã‚‚ã®ã ã‘ã§ã™ã€‚ã‚ãªãŸã®ã‚³ãƒ¡ãƒ³ãƒˆã ã‘ã§ã€å½¼ã‚‰ã¯ãã‚Œã‚‰ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã‚’ç†è§£ã™ã‚‹ã®ã«ååˆ†ãªæƒ…å ±ã‚’å¾—ã‚‰ã‚Œã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ

**Why?**

ä½œæˆã—ãŸã°ã‹ã‚Šã®æ–°ã—ã„ã‚¹ã‚­ãƒ¼ãƒã‚’ä½¿ç”¨ã™ã‚‹å°†æ¥ã®ã™ã¹ã¦ã®äººãŒã€ã‚ãªãŸã¨åŒã˜çŸ¥è­˜ã‚’æŒã£ã¦ã„ã‚‹ã¨æ€ã„è¾¼ã¾ãªã„ã§ãã ã•ã„ã€‚æ–°å…¥ç¤¾å“¡ã®ç«‹å ´ã«ç«‹ã£ã¦ãã ã•ã„-ã‚¹ã‚­ãƒ¼ãƒãŒä½•ã‚’è¡¨ã—ã¦ã„ã‚‹ã®ã‹ã‚’ç†è§£ã—ã€ãã‚Œã‚’ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€ã§ãã‚‹ã ã‘å¤šãã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒå¿…è¦ã§ã™ğŸ˜ƒ

**Example**

ã“ã¡ã‚‰ã‚ˆã‚Š
```graphql
extend type Business {
    """
    Return a list of Yelfies, given a yelfieType
    """
    getYelfies(
        # yelfie type
        yelfieType: String!
    ): [Yelfie]
}
```

ã“ã¡ã‚‰ãŒå¥½ã¾ã—ã„
```graphql
extend type Business {
    """
    Return a list of Yelfies.

    A Yelfie is a user photo taken at a business, with some special filters
    applied. See y/yelfies for more info about this feature.
    """
    getYelfies(
        """
        Provide the type of Yelfie to filter for.
        e.g. â€œsmilingFaceâ€, â€œeatingFoodâ€

        The yelfieTypes are defined in the yelfie.json config file - see y/yelfie-type-docs
        """
        yelfieType: String!
    ): [Yelfie]
}
```
è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ¢ãƒ‡ãƒ«åŒ–ã™ã‚‹å ´åˆã€é€šå¸¸ã¯ç°¡å˜ãªè¦ç´„ã¨è©³ç´°ã‚’è¦‹ã¤ã‘ã‚‹ãŸã‚ã®ãƒªãƒ³ã‚¯ã§ååˆ†ã§ã™ã€‚

## ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€ã»ã¨ã‚“ã©ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«nullè¨±å®¹å‹ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€å¤šãã®ä¾‹å¤–ãŒã‚ã‚Šã¾ã™

è©³ç´°ãªæ¨å¥¨äº‹é …ã«ã¤ã„ã¦ã¯ã€[Nullability](https://yelp.github.io/graphql-guidelines/nullability.html)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
![Nullability](https://storage.googleapis.com/zenn-user-upload/d689985988d9-20220111.png)